{
  // Python settings
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
  "python.terminal.activateEnvironment": true,
  "python.linting.enabled": true,
  "python.linting.ruffEnabled": true,
  "python.formatting.provider": "black",
  "python.analysis.typeCheckingMode": "basic",

  // C++ settings
  "C_Cpp.default.configurationProvider": "ms-vscode.cmake-tools",
  "C_Cpp.default.cppStandard": "c++17",
  "C_Cpp.default.includePath": [
    "${workspaceFolder}/core",
    "${workspaceFolder}/daemon",
    "${workspaceFolder}/third_party"
  ],

  // CMake settings
  "cmake.configureOnOpen": false,
  "cmake.buildDirectory": "${workspaceFolder}/build/cmake",

  // Terminal settings - Auto-activate conda environment
  "terminal.integrated.env.osx": {
    "CONDA_DEFAULT_ENV": "mlxr"
  },
  "terminal.integrated.shellArgs.osx": [
    "-l",
    "-c",
    "conda activate mlxr 2>/dev/null || true; exec zsh"
  ],

  // File associations
  "files.associations": {
    "*.metal": "metal",
    "*.metallib": "binary",
    "CMakeLists.txt": "cmake",
    "*.cmake": "cmake"
  },

  // Editor settings
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.organizeImports": "explicit"
  },

  // Files to exclude from search
  "search.exclude": {
    "**/build": true,
    "**/dist": true,
    "**/*.egg-info": true,
    "**/__pycache__": true,
    "**/.pytest_cache": true,
    "**/.mypy_cache": true,
    "**/.ruff_cache": true,
    "**/node_modules": true,
    "**/.conda": true
  },

  // Git settings
  "git.ignoreLimitWarning": true,

  // Markdown settings
  "markdown.preview.breaks": true,

  // File watcher exclusions (performance)
  "files.watcherExclude": {
    "**/build/**": true,
    "**/dist/**": true,
    "**/.git/objects/**": true,
    "**/.git/subtree-cache/**": true,
    "**/node_modules/**": true,
    "**/.conda/**": true,
    "**/__pycache__/**": true
  }
}
